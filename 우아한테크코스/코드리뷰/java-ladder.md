# 사다리 게임 코드리뷰 정리

## 1단계 PR 코드리뷰

### [1단계 PR 링크](https://github.com/woowacourse/java-ladder/pull/101)

### 원시값 포장, 관점의 차이

사다리 높이에 대한 검증이 필요했습니다. 이때 고민이 되었던 점은,

1. 사다리 높이의 원시값을 포장하여서 `Height` 라는 도메인으로 만들고, 검증 로직을 해당 도메인이 갖게 한다.
2. 원시값 포장을 하기에는 도메인이 너무 작으니, 포장은 하지 말되 검증 로직은 `Validator` 에 둔다.

이렇게 두 가지의 고민이었습니다. 결국 이 고민은 "사다리 높이에 대한 원시값을 포장해야 하나?" 라는 근본적인 물음으로 귀결되었습니다.

분명, 1개의 검증 로직만을 위해 원시값 포장하여 도메인으로 만들기에는 오버엔지니어링스러운 부분이 있습니다. 그렇지만 이런 경우는 어떨까요?

- 충분히 작은 도메인들의 개수가 100개이고, 이를 모두 포함하고 있는 큰 객체가 있다고 가정해봅시다.
- 도메인이 충분히 작으니 원시값 포장을 하지 않았지만, 이 도메인들의 비즈니스 로직이나, 검증 로직을 큰 객체에 모두 두게 된다면, 해당 객체의 크기가 너무 비대해지고 오히려 코드를 파악하기가 어렵지 않을까요?

오버엔지니어링이 될 것 같아 포장을 하지 않았더니, 나중을 고려했을 때 분명한 문제점이 존재했습니다. 그렇다면, 언제 원시값 포장을 하는게 좋을까요?

제게 도움이 되었던 관점을 소개해보려고 합니다.  
기존에 원시값 포장의 여부를 판단했던 관점은 **"도메인의 크기가 충분히 작은가?"** 였습니다. 이번에는 관점을 이렇게 옮겨볼까요? **"해당 도메인은 의미가 있는 도메인인가?"** 라는 관점입니다.

> 해당 도메인은 의미가 있는 도메인인가?

이 관점 또한 마찬가지로 생각하기 나름입니다. 관점은 달리했지만, 원시값을 포장할지 말지에 대한 결과는 똑같을 수 있습니다.

저의 경우에는, 사다리 높이에 대한 도메인은 **충분히 의미가 있다** 라고 보았습니다. 그 이유는 크게 두 가지입니다.

1. 사다리 높이만을 위해 입력을 따로 받는다.
2. 사다리 높이가 필요한 도메인 로직이 여러 개 있다.

종합적으로 고려해봤을 때, 후자의 관점을 따르는 것이 전자의 관점을 따르는 것보다 나을 거라는 판단을 했습니다. 따라서 저는 사다리 높이에 대해서 원시값 포장을 하기로 결정했습니다. 도메인 자체는 가볍지만, 검증 로직의 책임을 `Validator`에 두는 것보다는 훨씬 자연스러워 보였고, 차후에 사다리 높이에 대한 비즈니스 요구사항이 늘어났을 때, 이에 대한 기능을 확장하기에 용이한 구조라고 보았습니다.

다만 이때에도 문제점이 존재하는데, 검증 로직을 고치기 위해서는 각 도메인을 들여다 보며 고쳐야 하고, 이렇게 클래스를 왔다갔다 이동하는 과정 속에서 개발자가 놓치는 요구사항이 있을 수도 있습니다. 또한, 해당 객체의 메서드가 어디서 사용되고 있는지 한 눈에 판단하기가 어려워지기도 합니다.

제가 강조하고 싶은 부분은 **관점의 차이** 입니다.

제가 생각하기에, 원시값 포장을 할지 말지에는 정해진 답이 없어보였습니다. 다만 관점을 달리했을 때, 이에 대한 결과가 달라지는 재밌는 경험을 해봤습니다. 어디에 중요도를 둘 것인지는 자신의 몫이지만, 한 가지 관점에만 꽂히지 말고 다양한 관점에서 자신의 생각을 열어둔 뒤, 각각의 trade-off를 고려해서 적절한 판단을 하면 될 것 같습니다. 때로는 객체지향을 채택하는게 좋고, 때로는 절차지향을 채택하는게 좋다는 자신만의 근거가 있으면 좋을 것 같습니다.